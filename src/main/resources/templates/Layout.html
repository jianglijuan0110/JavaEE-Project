<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />

        <title layout:title-pattern="$CONTENT_TITLE - $LAYOUT_TITLE">Projet JavaEE</title>
        <link rel="stylesheet" th:href="@{/css/styles.css}">

        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Custom Google font-->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <!-- <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /> -->
        <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@100;200;300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet" />
        
        <!-- Pour utiliser jquery-->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <!-- AJAX -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        
    </head>

    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light bg-white py-3">
        <div class="container px-5">
            <a class="navbar-brand" href="index.html"><span class="fw-bolder text-primary">Jiang &amp Sarr</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0 small fw-bolder">
                
                    <li class="nav-item"><a class="nav-link" th:href="@{/monuments}">Home</a></li>
                    <li class="nav-item"><a class="nav-link" th:href="@{/monument/searchLieu}">Rechercher un monument</a></li>
                    <li class="nav-item"><a class="nav-link" th:href="@{/departements}">Departements</a></li>
                    
                    <!-- Invisible quand l'utilisateur est connecté -->
                    <li th:unless="${#authorization.expression('isAuthenticated()')}" class="nav-item"><a class="nav-link" th:href="@{/login}">Connexion</a></li>
                    <li th:unless="${#authorization.expression('isAuthenticated()')}" class="nav-item"><a class="nav-link" th:href="@{/register}">S'inscrire</a></li>
                    
                    <!-- Visible quand l'utilisateur est connecté -->
                    <li sec:authorize="isAuthenticated()" class="nav-item dropdown">
			          <a class="nav-link dropdown-toggle" id="navbarDropdownPortfolio" href="#" role="button" data-bs-toggle="dropdown">Bienvenue</a>
			          <ul  class="dropdown-menu dropdown-menu-end">
			          	<li style="text-align: center;"><p sec:authentication="name">Utilisateur</p></li>
			            <li style="text-align: center;"><p sec:authentication="principal.authorities">ROLE</p></li>
			            <li><a class="dropdown-item" th:href="@{/logout}">Logout</a></li>
			          </ul>
			        </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <body layout:fragment="body"></body>
    
    <!-- Divider-->
    <div class="pb-5"></div>

    <!-- Footer-->
    <footer class="bg-white py-4 mt-auto">
        <div class="container px-5">
            <div class="row align-items-center justify-content-between flex-column flex-sm-row">
                <div class="col-auto"><div class="small m-0">Copyright &copy; Jiang &amp Sarr 2023</div></div>
                <div class="col-auto">
                    <a class="small" href="#!">Privacy</a>
                    <span class="mx-1">&middot;</span>
                    <a class="small" href="#!">Terms</a>
                    <span class="mx-1">&middot;</span>
                    <a class="small" href="#!">Contact</a>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
</html>